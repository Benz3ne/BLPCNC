-- Directly turn OFF OSIG_OUTPUT4/5/6 and report readback
local inst = mc.mcGetInstance()

local targets = {
  { name = "OSIG_OUTPUT4", id = mc.OSIG_OUTPUT4 },
  { name = "OSIG_OUTPUT5", id = mc.OSIG_OUTPUT5 },
  { name = "OSIG_OUTPUT6", id = mc.OSIG_OUTPUT6 },
}

for _, t in ipairs(targets) do
  local h = mc.mcSignalGetHandle(inst, t.id)
  if h and h > 0 then
    mc.mcSignalSetState(h, 0)
    local rb = mc.mcSignalGetState(h)
    mc.mcCntlSetLastError(inst, string.format("%s -> OFF, readback=%s", t.name, tostring(rb)))
  else
    mc.mcCntlSetLastError(inst, string.format("%s handle invalid", t.name))
  end
end

